<h1 style="text-align: center;">Bill Payment</h1>

<div class="form-style-10 ">
<div [formGroup]="form">
    <table id="customers">
        <tr>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Email</th>
            <th>Address</th>
        </tr>
        <tr>
            <td>{{user?.firstName}}</td>
            <td>{{user?.lastName}}</td>
            <td>{{user?.email}}</td>
            <td>{{user?.address}}</td>
        </tr>
    </table>
    <button nbButton shape="semi-round" status="info" (click)="addPayments()">Add</button>

    <ng-container formArrayName="payments">
        <ng-container *ngFor="let paymentForm of payments.controls; let i=index">
            <div class="form-container" [formGroupName]="i">
                <ng-container>
                    <div class="section">
                        <div class="col-md-4">
                            <label for="itemName" ndLabel>Item Name</label>
                            <input type="text" nbInput status="primary" placeholder="Name" formControlName="itemName">
                        </div>
                        <br>
                        <div class="col-md-4">
                            <label for="price" ndLabel>Price</label>
                            <input type="text" nbInput status="primary" placeholder="Price" formControlName="price" (change)="addPrice(i)">
                        </div>
                        <button nbButton status="danger" (click)="deletePayment(i)">Delete</button>
                        <hr>
                    </div>
                </ng-container>
                <br>
            </div>
        </ng-container>
    </ng-container>
</div>
</div>
{{user?.firstName}}
{{totalAmount}}
